<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style/css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
    

    <title>Folex</title>
</head>
<body class="main">
    <div class="row">
        <div class="col-lg-12 d-lg-flex justify-content-lg-center" id="folex_storage">
            <div class="responsive" style="text-align: center;">
                <img id="storage" class="img-fluid" src="image/folex_storage_0.png" />
            </div>
        </div>
    </div>
    <hr />
    <div class="row">
        <div class="col-lg-12 d-lg-flex justify-content-lg-center">
            <div class="table-responsive" style="text-align: center;">
            <table class="table table-bordered table-hover ">
                <thead>
                <tr>
                    <th scope="col" colspan=2>Поиск шкафа для хранения фолексов</th>
                </tr>
                <tr>
                    <th scope="col">Mashin:</th>
                    <th scope="col">Folex-NUM:</th>
                    
                </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <select id="mashin">
                                <!-- <option value="0">select</option> -->
                                <option value="XL">XL</option>
                                <option value="8">8</option>
                                <option value="106">106</option>
                            </select>
                        </td>
                        <td>
                            <input type=number  min="0" id="folex_num" style="width: 100px;" >
                        </td>
                    </tr>
                    <tr>
                        <th scope="col" colspan=2><button type="submit" class="btn btn-success" onclick="searchStorage()" >Поиск:</button></th>
                    </tr>
                    <tr>
                        <th scope="col" colspan="2" class="bg-danger table-dark"><button type="reset" class="btn btn-danger" onclick="clearInput()">Сброс</button> </th>
                    </tr>
                    <tr>
                        <th scope="col" colspan="2" class="bg-danger table-dark"><a  href="workshop.html"><button  class="btn-success">Цех!!!</button></a> </th>
                    </tr>
                </tbody>

            </table>
        </div>
    </div>
</body>
<script type="text/javascript">

function clearInput(){
    let elements = document.getElementsByTagName("input");
    //console.log(elements.length)
    for (var ii=0; ii < elements.length; ii++) {

      elements[ii].value = "";
      document.getElementById("storage").src="image/folex_storage_0.png";
      //document.querySelector("#mashin").value="0";

    }
}

class Box {
    name = "box";
    mashin = [];
    img_bg_info = "";
    constructor(name){
        this.name = name;
    }
    set_range_folex(mashin_name,min,max){
        this.mashin.push({"name":mashin_name,"min":min,"max":max}); 
    }
    set_img_bg(img){
        this.img_bg_info = img;
    }

    find_box(name,number){
        if (this.machin.find((item) => item.name === name && item.min <= number && item.max >= number)){
            return true;
        }
        else{
            return false;
        }
    }
}

const link_bg = "image/folex_storage_"

const box1 = new Box('box1');
box1.set_range_folex("8",2301,2500);
box1.set_range_folex("XL",1,520);
box1.set_img_bg(link_bg+"1.png");

const box2 = new Box('box2');
box2.set_range_folex("8",2201,2300);
box2.set_range_folex("8",1,520);
box2.set_img_bg(link_bg+"2.png");




console.log(box2.mashin);

boxes=(box1,box2);
console.log(boxes);


function searchStorage(boxes){
    let mash = document.querySelector("#mashin").value;
    let fnum = document.getElementById("folex_num").value;

    console.log(fnum);
    for(bx in boxes){
        console.log(bx);
        if (bx.find_box(mash,fnum)){
            document.getElementById("storage").src=bx.set_img_bg;
            console.log(bx.set_img_bg);
        };
    };


}

/*
function searchStorage(){
    let mash = document.querySelector("#mashin").value;
    let fnum = document.getElementById("folex_num").value;

    // box1
    
    if (mash == "8"){
        if(2301 <= fnum && fnum <= 2500) {
            document.getElementById("storage").src="image/folex_storage_1.png";
            exit;
        } else {
            document.getElementById("storage").src="image/folex_storage_0.png";
        }
    }

    if (mash == "XL"){
        if(1 <= fnum && fnum <= 520){
            document.getElementById("storage").src="image/folex_storage_1.png";
            exit;
        } else {
            document.getElementById("storage").src="image/folex_storage_0.png";
        }
    }
    
    //box2

    if (mash == "8") {
        if ((2201 <= fnum && fnum <= 2300) || (2961 <= fnum && fnum <= 3400)) {
            document.getElementById("storage").src="image/folex_storage_2.png";
            exit;
        } else {
            document.getElementById("storage").src="image/folex_storage_0.png";   
        }
    } 

    //box3

    if (mash == "8") {
        if (3401 <= fnum && fnum <= 3799) {
            document.getElementById("storage").src="image/folex_storage_3.png";
            exit;
        } else {
            document.getElementById("storage").src="image/folex_storage_0.png";
        }
    }

    if (mash == "XL") {
        if (1101 <= fnum && fnum <= 1480){
            document.getElementById("storage").src="image/folex_storage_3.png";
            exit;
        } else {
            document.getElementById("storage").src="image/folex_storage_0.png";
        }        
    }


    //box4

    if (mash == "106") {
        if (5061 <= fnum  && fnum <= 5240) {
            document.getElementById("storage").src="image/folex_storage_4.png";
            exit;
        } else {
            document.getElementById("storage").src="image/folex_storage_0.png";
        }
    }

    if (mash == "XL"){
        if (1481 <= fnum && fnum <= 1980) {
            document.getElementById("storage").src="image/folex_storage_4.png";
            exit;
        } else {
            document.getElementById("storage").src="image/folex_storage_0.png";
        }

    }

    //box5

    if (mash == "8") {
        if (3800 <= fnum && fnum <= 4600) {
            document.getElementById("storage").src="image/folex_storage_5.png";
            exit;
        } else {
            document.getElementById("storage").src="image/folex_storage_0.png";
            
        }
    }

    //box6

    if (mash == "106"){
        if ((1661 <= fnum && fnum <= 4860) || (2501 <= fnum && fnum <= 2960)) {
            document.getElementById("storage").src="image/folex_storage_6.png";
            exit;
        } else {
            document.getElementById("storage").src="image/folex_storage_0.png";
            
        }
    }

    //box7

    if (mash == "XL"){
        if (521 <= fnum && fnum <= 1100){
            document.getElementById("storage").src="image/folex_storage_7.png";
            exit;
        } else {
            document.getElementById("storage").src="image/folex_storage_0.png";
        }
    }

    // box8
    
    if (mash == "8"){
        if (4601 <= fnum){
            document.getElementById("storage").src="image/folex_storage_8.png";
            exit;
        } else {
            document.getElementById("storage").src="image/folex_storage_0.png";  
        }
    }

    if (mash == "XL"){
        if (1981 <= fnum  && fnum <= 2300){
            document.getElementById("storage").src="image/folex_storage_8.png";
            exit;
        } else {
            document.getElementById("storage").src="image/folex_storage_0.png";
        }
    }

    // box9  диапазон 8ки пересекается со 106

    if (mash == "8") {
        if (1341 <= fnum && fnum <= 1900){
            document.getElementById("storage").src="image/folex_storage_9.png";
            exit;
        } else {
            document.getElementById("storage").src="image/folex_storage_0.png";  
        }

    }
    
    if (mash == "106") {
        if ((4001 <= fnum && fnum <= 4280) || (4861 <= fnum && fnum <= 5060)) {
            document.getElementById("storage").src="image/folex_storage_9.png";
            exit;
        } else {
            document.getElementById("storage").src="image/folex_storage_0.png";
        }
    }

    // box10

    if (mash == "106") {
        if ((2901 <= fnum && fnum <= 3720) || (5241 <= fnum )) {
            document.getElementById("storage").src="image/folex_storage_10.png";
            exit;
        } else {
            document.getElementById("storage").src="image/folex_storage_0.png";
        }
    }

    // box11

    if (mash == "8") {
        if (1 <= fnum && fnum <= 1060) {
            document.getElementById("storage").src="image/folex_storage_11.png";
            exit;
        } else {
            document.getElementById("storage").src="image/folex_storage_0.png";   
        }
    }

    // box12

    if (mash == "8") {
        if (1061 <= fnum && fnum <= 1340) {
            document.getElementById("storage").src="image/folex_storage_12.png";
            exit;
        } else {
            document.getElementById("storage").src="image/folex_storage_0.png";  
        }
    }

    if (mash == "106") {
        if (3721 <= fnum && fnum <= 4000) {
            document.getElementById("storage").src="image/folex_storage_12.png";
            exit;
        } else {
            document.getElementById("storage").src="image/folex_storage_0.png";
        }
    }

    if (mash == "XL") {
        if (2301 <= fnum) {
            document.getElementById("storage").src="image/folex_storage_12.png";
            exit;
        } else {
            document.getElementById("storage").src="image/folex_storage_0.png";
        }
    }

    // box13
    if (mash == "8") {
        if (1901 <= fnum && fnum <= 2200) {
            document.getElementById("storage").src="image/folex_storage_13.png";
            exit;
        } else {
            document.getElementById("storage").src="image/folex_storage_0.png";  
        }
    }

    if (mash == "106") {
        if (4281 <= fnum && fnum <= 4660) {
            document.getElementById("storage").src="image/folex_storage_13.png";
            exit;
        } else {
            document.getElementById("storage").src="image/folex_storage_0.png";
        }
    }

  // 8я с 2500 до   2961  нет данных 

  // 106е 4281-4660 в каком ящике?
  

}*/
</script>
</html>